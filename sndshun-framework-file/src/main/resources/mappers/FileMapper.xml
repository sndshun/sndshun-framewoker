<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sndshun.file.mapper.FileMapper">

    <resultMap type="com.sndshun.file.entity.FileEntity" id="FileMap">
        <result property="id" column="id" jdbcType="INTEGER"/>
        <result property="name" column="name" jdbcType="VARCHAR"/>
        <result property="filePath" column="file_path" jdbcType="VARCHAR"/>
        <result property="fileSize" column="file_size" jdbcType="INTEGER"/>
        <result property="fileType" column="file_type" jdbcType="VARCHAR"/>
        <result property="fileFormat" column="file_format" jdbcType="VARCHAR"/>
        <result property="description" column="description" jdbcType="VARCHAR"/>
        <result property="tags" column="tags" jdbcType="VARCHAR"/>
        <result property="bucket" column="bucket" jdbcType="VARCHAR"/>
        <result property="uploadedBy" column="uploaded_by" jdbcType="INTEGER"/>
        <result property="uploadTime" column="upload_time" jdbcType="TIMESTAMP"/>
        <result property="lastAccessedTime" column="last_accessed_time" jdbcType="TIMESTAMP"/>
        <result property="downloadCount" column="download_count" jdbcType="INTEGER"/>
        <result property="isPublic" column="is_public" jdbcType="INTEGER"/>
        <result property="isFeatured" column="is_featured" jdbcType="INTEGER"/>
        <result property="encryptionAlgorithm" column="encryption_algorithm" jdbcType="VARCHAR"/>
        <result property="encryptionKey" column="encryption_key" jdbcType="VARCHAR"/>
        <result property="expirationTime" column="expiration_time" jdbcType="TIMESTAMP"/>
        <result property="fileHash" column="file_hash" jdbcType="VARCHAR"/>
        <result property="mimeType" column="mime_type" jdbcType="VARCHAR"/>
        <result property="originalFileName" column="original_file_name" jdbcType="VARCHAR"/>
        <result property="thumbnailPath" column="thumbnail_path" jdbcType="VARCHAR"/>
        <result property="previewPath" column="preview_path" jdbcType="VARCHAR"/>
        <result property="version" column="version" jdbcType="INTEGER"/>
        <result property="logicDelete" column="logic_delete" jdbcType="INTEGER"/>
        <result property="createdBy" column="created_by" jdbcType="INTEGER"/>
        <result property="createdTime" column="created_time" jdbcType="TIMESTAMP"/>
        <result property="updatedBy" column="updated_by" jdbcType="INTEGER"/>
        <result property="updatedTime" column="updated_time" jdbcType="TIMESTAMP"/>
    </resultMap>

    <sql id="base_column">
        idnamefile_pathfile_sizefile_typefile_formatdescriptiontagsbucketuploaded_byupload_timelast_accessed_timedownload_countis_publicis_featuredencryption_algorithmencryption_keyexpiration_timefile_hashmime_typeoriginal_file_namethumbnail_pathpreview_pathversionlogic_deletecreated_bycreated_timeupdated_byupdated_time    </sql>

    <!--用于粘贴复制-->
    <select id="test" resultMap="FileMap">
        select
        idnamefile_pathfile_sizefile_typefile_formatdescriptiontagsbucketuploaded_byupload_timelast_accessed_timedownload_countis_publicis_featuredencryption_algorithmencryption_keyexpiration_timefile_hashmime_typeoriginal_file_namethumbnail_pathpreview_pathversionlogic_deletecreated_bycreated_timeupdated_byupdated_time
        from framework.file
        <where>
            <if test="id != null">
                and id = #{id}
            </if>
            <if test="name != null and name != ''">
                and name = #{name}
            </if>
            <if test="filePath != null and filePath != ''">
                and file_path = #{filePath}
            </if>
            <if test="fileSize != null">
                and file_size = #{fileSize}
            </if>
            <if test="fileType != null and fileType != ''">
                and file_type = #{fileType}
            </if>
            <if test="fileFormat != null and fileFormat != ''">
                and file_format = #{fileFormat}
            </if>
            <if test="description != null and description != ''">
                and description = #{description}
            </if>
            <if test="tags != null and tags != ''">
                and tags = #{tags}
            </if>
            <if test="bucket != null and bucket != ''">
                and bucket = #{bucket}
            </if>
            <if test="uploadedBy != null">
                and uploaded_by = #{uploadedBy}
            </if>
            <if test="uploadTime != null">
                and upload_time = #{uploadTime}
            </if>
            <if test="lastAccessedTime != null">
                and last_accessed_time = #{lastAccessedTime}
            </if>
            <if test="downloadCount != null">
                and download_count = #{downloadCount}
            </if>
            <if test="isPublic != null">
                and is_public = #{isPublic}
            </if>
            <if test="isFeatured != null">
                and is_featured = #{isFeatured}
            </if>
            <if test="encryptionAlgorithm != null and encryptionAlgorithm != ''">
                and encryption_algorithm = #{encryptionAlgorithm}
            </if>
            <if test="encryptionKey != null and encryptionKey != ''">
                and encryption_key = #{encryptionKey}
            </if>
            <if test="expirationTime != null">
                and expiration_time = #{expirationTime}
            </if>
            <if test="fileHash != null and fileHash != ''">
                and file_hash = #{fileHash}
            </if>
            <if test="mimeType != null and mimeType != ''">
                and mime_type = #{mimeType}
            </if>
            <if test="originalFileName != null and originalFileName != ''">
                and original_file_name = #{originalFileName}
            </if>
            <if test="thumbnailPath != null and thumbnailPath != ''">
                and thumbnail_path = #{thumbnailPath}
            </if>
            <if test="previewPath != null and previewPath != ''">
                and preview_path = #{previewPath}
            </if>
            <if test="version != null">
                and version = #{version}
            </if>
            <if test="logicDelete != null">
                and logic_delete = #{logicDelete}
            </if>
            <if test="createdBy != null">
                and created_by = #{createdBy}
            </if>
            <if test="createdTime != null">
                and created_time = #{createdTime}
            </if>
            <if test="updatedBy != null">
                and updated_by = #{updatedBy}
            </if>
            <if test="updatedTime != null">
                and updated_time = #{updatedTime}
            </if>
        </where>
    </select>


</mapper>

